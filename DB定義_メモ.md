# MOT2 DB 設計

## 必要なデータ

- ユーザー
- トピック
- （ログインログ）
- （国）

### ユーザーテーブル

| 論理名           | 物理名          | 型       | PK  | US  | 初期値     | NN  | 説明                                                                           |
| ---------------- | --------------- | -------- | --- | --- | ---------- | --- | ------------------------------------------------------------------------------ |
| ユーザー ID      | user_id         |          | ○   | ○   |            | ○   | ユーザーを識別する一意の ID。ログイン ID                                       |
| 姓               | last_name       | varchar  |     |     |            | ○   | 姓                                                                             |
| 名               | first_name      | varchar  |     |     |            |     | 名                                                                             |
| 姓（カナ）       | last_name_kana  | varchar  |     |     |            | ○   | 姓（カナ）                                                                     |
| 名（カナ）       | first_name_kana | varchar  |     |     |            |     | 名（カナ）                                                                     |
| イニシャル       | initial         |          |     |     |            | ○   | 氏名イニシャル。非ログイン時は氏名をイニシャルで表示する                       |
| （生年月日）     | birthday        | date     |     |     |            |     | 生年月日　※必要か要確認                                                        |
| （国籍）         | country_id      | int      |     |     |            |     | ※必要かどうか要確認<br />※国テーブルを作成するか、定数等でデータを持つか要検討 |
| パスワード       | password        | varchar  |     |     |            |     | パスワード。DB 保存時はハッシュ化して保存                                      |
| メールアドレス   | email           | varchar  |     |     |            |     | メールアドレス                                                                 |
| ステータス       | status          | tinyint  |     |     |            |     | 0：仮登録、1：本登録                                                           |
| 管理者フラグ     | flg_admin       | boolean  |     |     | false      | ○   | 管理者権限を持つアカウントは'true'                                             |
| 作成日時         | created_at      | datetime |     |     |            | ○   | アカウント作成日時                                                             |
| 更新日時         | updated_at      | datetime |     |     | created_at | ○   | アカウント最終更新日時。初期値は作成日時                                       |
| 最終ログイン日時 | last_login_at   | datetime |     |     |            |     | アカウントの最終ログイン日時                                                   |
| 削除日時         | deleted_at      | datetime |     |     |            |     | アカウント削除日時。このカラムに値が入っている場合は削除アカウントとなる       |

### トピックテーブル

- ID
- タイトル
- コンテンツ
- ユーザー ID（作成者）
- （ユーザー ID（最終更新者））
- 作成日時
- 更新日時
- 削除日時
-
